#!/usr/bin/node

var GitHubApi = require("github");

var github = new GitHubApi({
    // required
    version: "3.0.0",
    // optional
    //debug: true,
    protocol: "https",
    host: "api.github.com",
    //pathPrefix: "/api", // for some GHEs
    timeout: 10000
});
github.authenticate({
    type: "basic",
    username: "tjworks",
    password: "this4now"
});

slugs = ["installation.html","administration/install-on-linux.html","tutorial/install-mongodb-on-red-hat-centos-or-fedora-linux.html","tutorial/install-mongodb-on-ubuntu.html","tutorial/install-mongodb-on-debian.html","tutorial/install-mongodb-on-linux.html","tutorial/install-mongodb-on-os-x.html","tutorial/install-mongodb-on-windows.html","administration/install-enterprise.html","tutorial/install-mongodb-enterprise-on-red-hat-or-centos.html","tutorial/install-mongodb-enterprise-on-ubuntu.html","tutorial/install-mongodb-enterprise-on-debian.html","tutorial/install-mongodb-enterprise-on-suse.html","tutorial/install-mongodb-enterprise-on-amazon.html","tutorial/install-mongodb-enterprise-on-windows.html","tutorial/verify-mongodb-packages.html","tutorial/getting-started.html","tutorial/generate-test-data.html","crud.html","core/crud-introduction.html","core/crud.html","core/read-operations.html","core/read-operations-introduction.html","core/cursors.html","core/query-optimization.html","core/query-plans.html","core/distributed-queries.html","core/write-operations.html","core/write-operations-introduction.html","core/write-concern.html","core/distributed-write-operations.html","core/write-performance.html","core/bulk-inserts.html","core/storage.html","applications/crud.html","tutorial/insert-documents.html","tutorial/query-documents.html","tutorial/project-fields-from-query-results.html","tutorial/iterate-a-cursor.html","tutorial/analyze-query-plan.html","tutorial/modify-documents.html","tutorial/remove-documents.html","tutorial/perform-two-phase-commits.html","tutorial/create-tailable-cursor.html","tutorial/isolate-sequence-of-operations.html","tutorial/create-an-auto-incrementing-field.html","tutorial/limit-number-of-elements-in-updated-array.html","reference/crud.html","reference/write-concern.html","reference/sql-comparison.html","reference/bios-example-collection.html","data-modeling.html","core/data-modeling-introduction.html","core/data-models.html","core/data-model-design.html","core/data-model-operations.html","core/gridfs.html","applications/data-models.html","applications/data-models-relationships.html","tutorial/model-embedded-one-to-one-relationships-between-documents.html","tutorial/model-embedded-one-to-many-relationships-between-documents.html","tutorial/model-referenced-one-to-many-relationships-between-documents.html","applications/data-models-tree-structures.html","tutorial/model-tree-structures-with-parent-references.html","tutorial/model-tree-structures-with-child-references.html","tutorial/model-tree-structures-with-ancestors-array.html","tutorial/model-tree-structures-with-materialized-paths.html","tutorial/model-tree-structures-with-nested-sets.html","applications/data-models-applications.html","tutorial/model-data-for-atomic-operations.html","tutorial/model-data-for-keyword-search.html","tutorial/model-monetary-data.html","reference/data-models.html","core/document.html","reference/database-references.html","reference/gridfs.html","reference/object-id.html","reference/bson-types.html","administration.html","core/administration.html","administration/strategy.html","core/backups.html","administration/monitoring.html","administration/configuration.html","core/import-export.html","administration/production-notes.html","administration/data-management.html","data-center-awareness.html","core/operational-segregation.html","core/capped-collections.html","tutorial/expire-data.html","administration/optimization.html","tutorial/evaluate-operation-performance.html","tutorial/use-capped-collections-for-fast-writes-and-reads.html","tutorial/optimize-query-performance-with-indexes-and-projections.html","applications/design-notes.html","administration/tutorials.html","administration/maintenance.html","tutorial/use-database-commands.html","tutorial/manage-mongodb-processes.html","tutorial/terminate-running-operations.html","tutorial/manage-the-database-profiler.html","tutorial/rotate-log-files.html","tutorial/manage-journaling.html","tutorial/store-javascript-function-on-server.html","tutorial/upgrade-revision.html","tutorial/monitor-with-snmp.html","tutorial/monitor-with-snmp-on-windows.html","tutorial/troubleshoot-snmp.html","tutorial.html","administration/backup.html","tutorial/backup-with-filesystem-snapshots.html","tutorial/restore-replica-set-from-backup.html","tutorial/backup-with-mongodump.html","administration/backup-sharded-clusters.html","tutorial/backup-small-sharded-cluster-with-mongodump.html","tutorial/backup-sharded-cluster-with-filesystem-snapshots.html","tutorial/backup-sharded-cluster-with-database-dumps.html","tutorial/schedule-backup-window-for-sharded-clusters.html","tutorial/restore-single-shard.html","tutorial/restore-sharded-cluster.html","tutorial/recover-data-following-unexpected-shutdown.html","administration/scripting.html","core/server-side-javascript.html","core/shell-types.html","tutorial/write-scripts-for-the-mongo-shell.html","tutorial/getting-started-with-the-mongo-shell.html","tutorial/access-mongo-shell-help.html","reference/mongo-shell.html","reference/administration.html","reference/ulimit.html","reference/system-collections.html","reference/database-profiler.html","core/journaling.html","reference/exit-codes.html","security.html","core/security-introduction.html","core/security.html","core/authentication.html","core/authorization.html","core/collection-level-access-control.html","core/security-network.html","core/security-interface.html","core/auditing.html","core/kerberos.html","administration/security.html","administration/security-checklist.html","administration/security-network.html","tutorial/configure-linux-iptables-firewall.html","tutorial/configure-windows-netsh-firewall.html","tutorial/configure-ssl.html","tutorial/configure-ssl-clients.html","tutorial/upgrade-cluster-to-ssl.html","tutorial/configure-fips.html","administration/security-deployment.html","tutorial/deploy-replica-set-with-auth.html","administration/security-access-control.html","tutorial/enable-authentication.html","tutorial/enable-authentication-in-sharded-cluster.html","tutorial/enable-authentication-without-bypass.html","tutorial/configure-x509-client-authentication.html","tutorial/configure-x509-member-authentication.html","tutorial/configure-ldap-sasl-activedirectory.html","tutorial/configure-ldap-sasl-openldap.html","tutorial/control-access-to-mongodb-with-kerberos-authentication.html","tutorial/control-access-to-mongodb-windows-with-kerberos-authentication.html","tutorial/authenticate-as-client.html","tutorial/generate-key-file.html","tutorial/troubleshoot-kerberos.html","tutorial/implement-field-level-redaction.html","administration/security-user-role-management.html","tutorial/add-user-administrator.html","tutorial/add-user-to-database.html","tutorial/add-admin-user.html","tutorial/define-roles.html","tutorial/assign-role-to-user.html","tutorial/verify-user-privileges.html","tutorial/change-user-privileges.html","tutorial/view-roles.html","tutorial/change-user-password.html","tutorial/change-own-password-and-custom-data.html","tutorial/configure-auditing.html","tutorial/create-a-vulnerability-report.html","reference/security.html","reference/built-in-roles.html","reference/system-roles-collection.html","reference/system-users-collection.html","reference/resource-document.html","reference/privilege-actions.html","reference/default-mongodb-port.html","reference/audit-message.html","release-notes/security.html","aggregation.html","core/aggregation-introduction.html","core/aggregation.html","core/aggregation-pipeline.html","core/map-reduce.html","core/single-purpose-aggregation.html","core/aggregation-mechanics.html","core/aggregation-pipeline-optimization.html","core/aggregation-pipeline-limits.html","core/aggregation-pipeline-sharded-collections.html","core/map-reduce-sharded-collections.html","core/map-reduce-concurrency.html","applications/aggregation.html","tutorial/aggregation-zip-code-data-set.html","tutorial/aggregation-with-user-preference-data.html","tutorial/map-reduce-examples.html","tutorial/perform-incremental-map-reduce.html","tutorial/troubleshoot-map-function.html","tutorial/troubleshoot-reduce-function.html","reference/aggregation.html","meta/aggregation-quick-reference.html","reference/aggregation-commands-comparison.html","reference/sql-aggregation-comparison.html","reference/operator/aggregation/interface.html","reference/aggregation-variables.html","indexes.html","core/indexes-introduction.html","core/indexes.html","core/index-types.html","core/index-single.html","core/index-compound.html","core/index-multikey.html","applications/geospatial-indexes.html","core/2dsphere.html","core/2d.html","core/geohaystack.html","core/geospatial-indexes.html","core/index-text.html","core/index-hashed.html","core/index-properties.html","core/index-ttl.html","core/index-unique.html","core/index-sparse.html","core/index-creation.html","core/index-intersection.html","administration/indexes.html","administration/indexes-creation.html","tutorial/create-an-index.html","tutorial/create-a-compound-index.html","tutorial/create-a-unique-index.html","tutorial/create-a-sparse-index.html","tutorial/create-a-hashed-index.html","tutorial/build-indexes-on-replica-sets.html","tutorial/build-indexes-in-the-background.html","tutorial/roll-back-to-v1.8-index.html","administration/indexes-management.html","tutorial/remove-indexes.html","tutorial/modify-an-index.html","tutorial/rebuild-indexes.html","tutorial/manage-in-progress-indexing-operations.html","tutorial/list-indexes.html","tutorial/measure-index-use.html","administration/indexes-geo.html","tutorial/build-a-2dsphere-index.html","tutorial/query-a-2dsphere-index.html","tutorial/build-a-2d-index.html","tutorial/query-a-2d-index.html","tutorial/build-a-geohaystack-index.html","tutorial/query-a-geohaystack-index.html","tutorial/calculate-distances-using-spherical-geometry-with-2d-geospatial-indexes.html","administration/indexes-text.html","tutorial/create-text-index-on-multiple-fields.html","tutorial/specify-language-for-text-index.html","tutorial/avoid-text-index-name-limit.html","tutorial/control-results-of-text-search.html","tutorial/limit-number-of-items-scanned-for-text-search.html","tutorial/text-search-in-aggregation.html","applications/indexes.html","tutorial/create-indexes-to-support-queries.html","tutorial/sort-results-with-indexes.html","tutorial/ensure-indexes-fit-ram.html","tutorial/create-queries-that-ensure-selectivity.html","reference/indexes.html","reference/text-search-languages.html","replication.html","core/replication-introduction.html","core/replication.html","core/replica-set-members.html","core/replica-set-primary.html","core/replica-set-secondary.html","core/replica-set-priority-0-member.html","core/replica-set-hidden-member.html","core/replica-set-delayed-member.html","core/replica-set-arbiter.html","core/replica-set-architectures.html","core/replica-set-architecture-three-members.html","core/replica-set-architecture-four-members.html","core/replica-set-architecture-geographically-distributed.html","core/replica-set-high-availability.html","core/replica-set-elections.html","core/replica-set-rollbacks.html","applications/replication.html","core/replica-set-write-concern.html","core/read-preference.html","core/read-preference-mechanics.html","core/replication-process.html","core/replica-set-oplog.html","core/replica-set-sync.html","core/master-slave.html","administration/replica-sets.html","administration/replica-set-deployment.html","tutorial/deploy-replica-set.html","tutorial/deploy-replica-set-for-testing.html","tutorial/deploy-geographically-distributed-replica-set.html","tutorial/add-replica-set-arbiter.html","tutorial/convert-standalone-to-replica-set.html","tutorial/expand-replica-set.html","tutorial/remove-replica-set-member.html","tutorial/replace-replica-set-member.html","administration/replica-set-member-configuration.html","tutorial/adjust-replica-set-member-priority.html","tutorial/configure-secondary-only-replica-set-member.html","tutorial/configure-a-hidden-replica-set-member.html","tutorial/configure-a-delayed-replica-set-member.html","tutorial/configure-a-non-voting-replica-set-member.html","tutorial/convert-secondary-into-arbiter.html","administration/replica-set-maintenance.html","tutorial/change-oplog-size.html","tutorial/perform-maintence-on-replica-set-members.html","tutorial/force-member-to-be-primary.html","tutorial/resync-replica-set-member.html","tutorial/configure-replica-set-tag-sets.html","tutorial/reconfigure-replica-set-with-unavailable-members.html","tutorial/manage-chained-replication.html","tutorial/change-hostnames-in-a-replica-set.html","tutorial/configure-replica-set-secondary-sync-target.html","tutorial/troubleshoot-replica-sets.html","reference/replication.html","reference/replica-configuration.html","reference/local-database.html","reference/replica-states.html","reference/read-preference.html","sharding.html","core/sharding-introduction.html","core/sharding.html","core/sharded-cluster-components.html","core/sharded-cluster-shards.html","core/sharded-cluster-config-servers.html","core/sharded-cluster-architectures.html","core/sharded-cluster-requirements.html","core/sharded-cluster-architectures-production.html","core/sharded-cluster-architectures-test.html","core/sharded-cluster-operations.html","core/sharding-shard-key.html","core/sharded-cluster-high-availability.html","core/sharded-cluster-query-router.html","core/sharded-cluster-mechanics.html","core/sharding-balancing.html","core/sharding-chunk-migration.html","core/sharding-chunk-splitting.html","core/sharding-shard-key-indexes.html","core/sharded-cluster-metadata.html","administration/sharded-clusters.html","administration/sharded-cluster-deployment.html","tutorial/deploy-shard-cluster.html","tutorial/choose-a-shard-key.html","tutorial/shard-collection-with-a-hashed-shard-key.html","tutorial/add-shards-to-shard-cluster.html","tutorial/deploy-config-servers.html","tutorial/convert-replica-set-to-replicated-shard-cluster.html","tutorial/convert-sharded-cluster-to-replica-set.html","administration/sharded-cluster-maintenance.html","tutorial/view-sharded-cluster-configuration.html","tutorial/migrate-config-servers-with-same-hostname.html","tutorial/migrate-config-servers-with-different-hostnames.html","tutorial/replace-config-server.html","tutorial/migrate-sharded-cluster-to-new-hardware.html","tutorial/backup-sharded-cluster-metadata.html","tutorial/configure-sharded-cluster-balancer.html","tutorial/manage-sharded-cluster-balancer.html","tutorial/remove-shards-from-cluster.html","administration/sharded-cluster-data.html","tutorial/create-chunks-in-sharded-cluster.html","tutorial/split-chunks-in-sharded-cluster.html","tutorial/migrate-chunks-in-sharded-cluster.html","tutorial/merge-chunks-in-sharded-cluster.html","tutorial/modify-chunk-size-in-sharded-cluster.html","core/tag-aware-sharding.html","tutorial/administer-shard-tags.html","tutorial/enforce-unique-keys-for-sharded-collections.html","tutorial/shard-gridfs-data.html","tutorial/troubleshoot-sharded-clusters.html","reference/sharding.html","reference/config-database.html","faq.html","faq/fundamentals.html","faq/developers.html","faq/mongo.html","faq/concurrency.html","faq/sharding.html","faq/replica-sets.html","faq/storage.html","faq/indexes.html","faq/diagnostics.html","release-notes.html","release-notes/2.6.html","release-notes/2.6-changelog.html","release-notes/2.6-compatibility.html","release-notes/2.6-upgrade.html","release-notes/2.6-upgrade-authorization.html","release-notes/2.6-downgrade.html","release-notes/2.4.html","release-notes/2.4-changelog.html","release-notes/2.4-javascript.html","release-notes/2.4-upgrade.html","release-notes/2.4-index-types.html","release-notes/2.2.html","release-notes/2.0.html","release-notes/1.8.html","release-notes/1.6.html","release-notes/1.4.html","release-notes/1.2.html","release-notes/drivers-write-concern.html"];

var maxid = 430;

updateBody(16); 
function updateBody(number){

	if(number >  maxid ) return;
	var slug =  slugs.shift();
	github.issues.getRepoIssue({number:number, user:"tjworks", repo:"docs"}, 
			function(err, result){
				
				if(err) {
					console.log(err);
					updateBody(number+1); 
					return;					
				}
				//console.log("DONE");
				
				slug = slug.replace(".html", "");
				body= 	'PO File: https://github.com/tjworks/docs/blob/master/locale/zh/LC_MESSAGES/'+slug+'.po\n' +
						'Chinese Page: http://staging.mongoing.com/manual-zh/'+ slug+'.html\n' +
						'English Page: http://docs.mongodb.org/manual/'+ slug+'\n';
						  
				var msg = {
					number: result.number,
					repo: 'docs',
					user: 'tjworks',
					body: body
				}
				
				
				github.issues.edit(msg, function(err){
					console.log("Updated #", number, err);
					updateBody(number+1); 
					return;					
				});
			})
}

 
 //#29, #65